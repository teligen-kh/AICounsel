문제점들:
DB 검색 모듈이 제대로 작동하지 않음
"DB 늘리기 방법" 질문에 대해 DB에서 관련 답변을 찾지 못함
키워드 매칭 로직에 문제가 있음
LLM 모듈이 불필요하게 복잡함
DB 답변이 있는데도 LLM으로 개선하려고 시도
처리 시간이 6분이나 걸림
모듈 간 의존성이 복잡함
하나가 고장나면 전체가 작동 안 함


해결 방안:
DB 검색 모듈을 독립적으로 만들기:
키워드 추출 → AND 조건 검색 → 가장 적절한 답변 선택
점수 기반 랭킹 시스템
LLM 모듈을 선택적으로 사용:
DB에서 답변을 찾으면 그대로 사용
찾지 못했을 때만 LLM 사용
어떤 부분부터 수정하시겠습니까?
DB 검색 모듈을 먼저 고치기
LLM 모듈을 단순화하기
모듈 간 의존성 분리하기


전체 프로젝트 모듈화  및 내가 원할 때 빼고 수정 금지 작업  진행.
polyglot-ko-5.8b 모델 한국어 테스트
언어모델  + DB 연결 테스트


내일 진행할 작업들:
1. 모듈화 개선
순환 import 문제 완전 해결
의존성 주입 구조 정리
서비스 간 결합도 낮추기
2. DB 연결 및 검색 개선
MongoDB 연결 상태 확인
키워드 매칭 알고리즘 개선
관련성 높은 답변 검색 로직 수정
3. LLM 통합
Polyglot-Ko 모델 프롬프트 최적화
안정적인 응답 생성 보장
속도와 품질의 균형 맞추기
4. 전체 시스템 안정화
에러 처리 강화
로깅 시스템 개선
성능 모니터링 추가

2025-07-04
서버 테스트 및 최종 검증
프론트엔드 연동 확인
성능 모니터링 및 최적화
추가 기능 개발


주요 문제점 분석
1. LLM 처리 시간이 비정상적으로 길음
일상 대화: 331초 (5분 31초) - 단순한 "안녕하세요?"에 대해
전문 상담: 27초~62초 - 이마저도 너무 김
정상적인 LLM 응답은 보통 1-5초 내외여야 함
2. 응답 품질 문제
일상 대화 응답: "네, 안녕하세요?" --토트(dmthoth) 2012년 10월 17일 (목) 14:24 (KST)
위키피디아 스타일의 인용문이 나옴
실제 대화에 적합하지 않은 형식
전문 상담 응답: )렬쇄답변: - 깨진 텍스트가 나옴
3. 검색 로직 문제
키워드 매칭이 항상 같은 항목(02-2026-8945 포스 프로그램 재설치)을 찾음
검색 점수가 20-21점으로 낮은데도 매칭됨
검색 결과가 실제 질문과 관련성이 떨어짐
4. 모델 로딩 중복
서버 시작 시 모델 로딩
요청 시마다 다시 모델 로딩 체크
메모리 효율성 문제
해결 방향 논의
어떤 부분부터 우선적으로 해결하고 싶으신가요?
LLM 처리 시간 최적화 - 가장 시급한 문제
응답 품질 개선 - 프롬프트 엔지니어링
검색 로직 개선 - 더 정확한 매칭
모델 관리 최적화 - 메모리 효율성


LLM 모델을 다시 LLaMA 3.1 로 돌아가야할 상황임
현재 Polyglot-Ko 최적화 작업 중