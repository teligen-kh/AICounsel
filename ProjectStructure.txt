# AICounsel ν”„λ΅μ νΈ κµ¬μ΅°

## π“ λ£¨νΈ λ””λ ‰ν† λ¦¬
```
AICounsel/
β”β”€β”€ README.md                    # ν”„λ΅μ νΈ κ°μ”
β”β”€β”€ AICounsel_PRD.md            # μ ν’ μ”κµ¬μ‚¬ν•­ λ¬Έμ„
β”β”€β”€ DevelopmentProgress.txt     # κ°λ° μ§„ν–‰ μƒν™©
β”β”€β”€ ProjectStructure.txt        # ν”„λ΅μ νΈ κµ¬μ΅° (μ΄ νμΌ)
β”β”€β”€ start_servers.bat           # μ„λ²„ μ‹μ‘ μ¤ν¬λ¦½νΈ
β””β”€β”€ .gitignore                  # Git λ¬΄μ‹ νμΌ
```

## π–¥οΈ λ°±μ—”λ“ (Backend)
```
backend/
β”β”€β”€ app/                        # FastAPI μ• ν”λ¦¬μΌ€μ΄μ…
β”‚   β”β”€β”€ main.py                # λ©”μΈ μ• ν”λ¦¬μΌ€μ΄μ…
β”‚   β”β”€β”€ config.py              # μ„¤μ •
β”‚   β”β”€β”€ database.py            # λ°μ΄ν„°λ² μ΄μ¤ μ—°κ²°
β”‚   β”β”€β”€ dependencies.py        # μμ΅΄μ„± μ£Όμ…
β”‚   β”β”€β”€ api/                   # API μ—”λ“ν¬μΈνΈ
β”‚   β”‚   β”β”€β”€ __init__.py
β”‚   β”‚   β”β”€β”€ analysis.py        # λ¶„μ„ API
β”‚   β”‚   β”β”€β”€ chat.py           # μ±„ν… API
β”‚   β”‚   β””β”€β”€ v1/               # API v1
β”‚   β”‚       β”β”€β”€ chat.py
β”‚   β”‚       β””β”€β”€ knowledge.py
β”‚   β”β”€β”€ core/                  # ν•µμ‹¬ λ¨λ“
β”‚   β”‚   β”β”€β”€ config.py
β”‚   β”‚   β””β”€β”€ database.py
β”‚   β”β”€β”€ models/                # λ°μ΄ν„° λ¨λΈ
β”‚   β”β”€β”€ routers/               # λΌμ°ν„°
β”‚   β”‚   β””β”€β”€ chat.py
β”‚   β”β”€β”€ scripts/               # μ¤ν¬λ¦½νΈ
β”‚   β””β”€β”€ services/              # μ„λΉ„μ¤ λ μ΄μ–΄
β”‚       β”β”€β”€ chat_service.py    # μ±„ν… μ„λΉ„μ¤
β”‚       β”β”€β”€ conversation_algorithm.py
β”‚       β”β”€β”€ formatting_service.py
β”‚       β”β”€β”€ llm_service.py     # LLM μ„λΉ„μ¤
β”‚       β”β”€β”€ llm.py
β”‚       β”β”€β”€ model_manager.py   # λ¨λΈ κ΄€λ¦¬
β”‚       β””β”€β”€ mongodb_search_service.py
β”β”€β”€ data/                      # λ°μ΄ν„° λ””λ ‰ν† λ¦¬
β”‚   β””β”€β”€ csv/
β”‚       β””β”€β”€ Counseling Training Data.csv  # FAQ λ°μ΄ν„°
β”β”€β”€ models/                    # λ¨λΈ νμΌ
β”‚   β”β”€β”€ Phi-3.5-mini-instruct-Q8_0.gguf
β”‚   β”β”€β”€ llama-3.1-8b-instruct-Q4_K_M.gguf
β”‚   β””β”€β”€ llama-2-7b-chat.Q4_K_M.gguf
β”β”€β”€ finetune_tool/             # π†• νμΈνλ‹ λ„κµ¬
β”‚   β”β”€β”€ README.md              # νμΈνλ‹ λ„κµ¬ μ‚¬μ©λ²•
β”‚   β”β”€β”€ requirements.txt       # νμΈνλ‹ μμ΅΄μ„±
β”‚   β”β”€β”€ config.py              # νμΈνλ‹ μ„¤μ •
β”‚   β”β”€β”€ data_processor.py      # λ°μ΄ν„° μ „μ²λ¦¬
β”‚   β”β”€β”€ model_trainer.py       # λ¨λΈ ν›λ ¨
β”‚   β”β”€β”€ run_finetune_gui.py    # GUI μ‹¤ν–‰ μ¤ν¬λ¦½νΈ
β”‚   β”β”€β”€ gui/                   # GUI λ¨λ“
β”‚   β”‚   β””β”€β”€ main_window.py     # λ©”μΈ μλ„μ°
β”‚   β””β”€β”€ test_tool/             # ν…μ¤νΈ λ„κµ¬
β”‚       β”β”€β”€ model_tester.py    # λ¨λΈ ν…μ¤νΈ
β”‚       β””β”€β”€ run_model_test.py  # ν…μ¤νΈ μ‹¤ν–‰
β”β”€β”€ test_tool/                 # π†• λ¨λΈ ν…μ¤νΈ λ„κµ¬ (κ°λ° μ»΄ν“¨ν„°μ©)
β”‚   β”β”€β”€ model_tester.py        # λ¨λΈ ν…μ¤νΈ ν΄λμ¤
β”‚   β””β”€β”€ run_model_test.py      # ν…μ¤νΈ μ‹¤ν–‰ μ¤ν¬λ¦½νΈ
β”β”€β”€ venv/                      # κ°€μƒν™κ²½
β””β”€β”€ [κΈ°νƒ€ ν…μ¤νΈ νμΌλ“¤]
```

## π¨ ν”„λ΅ νΈμ—”λ“ (Frontend)
```
frontend/
β”β”€β”€ package.json               # Node.js μμ΅΄μ„±
β”β”€β”€ next.config.mjs           # Next.js μ„¤μ •
β”β”€β”€ tailwind.config.ts        # Tailwind CSS μ„¤μ •
β”β”€β”€ tsconfig.json             # TypeScript μ„¤μ •
β”β”€β”€ public/                   # μ •μ  νμΌ
β”β”€β”€ src/
β”‚   β”β”€β”€ app/                  # Next.js 13+ App Router
β”‚   β”‚   β”β”€β”€ layout.tsx        # λ£¨νΈ λ μ΄μ•„μ›ƒ
β”‚   β”‚   β”β”€β”€ page.tsx          # ν™νμ΄μ§€
β”‚   β”‚   β”β”€β”€ globals.css       # μ „μ—­ μ¤νƒ€μΌ
β”‚   β”‚   β”β”€β”€ chat/             # μ±„ν… νμ΄μ§€
β”‚   β”‚   β”‚   β””β”€β”€ page.tsx
β”‚   β”‚   β”β”€β”€ analysis/         # λ¶„μ„ νμ΄μ§€
β”‚   β”‚   β”‚   β””β”€β”€ page.tsx
β”‚   β”‚   β””β”€β”€ list/             # λ©λ΅ νμ΄μ§€
β”‚   β”‚       β””β”€β”€ page.tsx
β”‚   β”β”€β”€ components/           # React μ»΄ν¬λ„νΈ
β”‚   β”‚   β”β”€β”€ chat/             # μ±„ν… κ΄€λ ¨ μ»΄ν¬λ„νΈ
β”‚   β”‚   β”‚   β”β”€β”€ ChatContainer.tsx
β”‚   β”‚   β”‚   β”β”€β”€ ChatHeader.tsx
β”‚   β”‚   β”‚   β”β”€β”€ ChatInput.tsx
β”‚   β”‚   β”‚   β”β”€β”€ ChatInterface.tsx
β”‚   β”‚   β”‚   β”β”€β”€ ChatMessage.tsx
β”‚   β”‚   β”‚   β”β”€β”€ ChatMessageList.tsx
β”‚   β”‚   β”‚   β””β”€β”€ LoadingMessage.tsx
β”‚   β”‚   β”β”€β”€ Analysis/         # λ¶„μ„ κ΄€λ ¨ μ»΄ν¬λ„νΈ
β”‚   β”‚   β”‚   β”β”€β”€ AnalysisResults.tsx
β”‚   β”‚   β”‚   β””β”€β”€ DateRangePicker.tsx
β”‚   β”‚   β”β”€β”€ Navigation/       # λ„¤λΉ„κ²μ΄μ…
β”‚   β”‚   β”‚   β””β”€β”€ Navbar.tsx
β”‚   β”‚   β”β”€β”€ Navigation.tsx
β”‚   β”‚   β””β”€β”€ ui/               # UI μ»΄ν¬λ„νΈ
β”‚   β”‚       β”β”€β”€ button.tsx
β”‚   β”‚       β”β”€β”€ calendar.tsx
β”‚   β”‚       β”β”€β”€ card.tsx
β”‚   β”‚       β”β”€β”€ dialog.tsx
β”‚   β”‚       β”β”€β”€ input.tsx
β”‚   β”‚       β”β”€β”€ popover.tsx
β”‚   β”‚       β””β”€β”€ table.tsx
β”‚   β”β”€β”€ hooks/                # React Hooks
β”‚   β”β”€β”€ layouts/              # λ μ΄μ•„μ›ƒ μ»΄ν¬λ„νΈ
β”‚   β”‚   β””β”€β”€ MainLayout.tsx
β”‚   β”β”€β”€ lib/                  # μ ν‹Έλ¦¬ν‹° λΌμ΄λΈλ¬λ¦¬
β”‚   β”‚   β””β”€β”€ utils.ts
β”‚   β”β”€β”€ services/             # API μ„λΉ„μ¤
β”‚   β”‚   β”β”€β”€ api.ts
β”‚   β”‚   β”β”€β”€ chatService.ts
β”‚   β”‚   β”β”€β”€ chatService_backup.ts
β”‚   β”‚   β””β”€β”€ chatService_new.ts
β”‚   β”β”€β”€ store/                # μƒνƒ κ΄€λ¦¬
β”‚   β”‚   β””β”€β”€ useChatStore.ts
β”‚   β”β”€β”€ styles/               # μ¤νƒ€μΌ
β”‚   β”‚   β””β”€β”€ theme.ts
β”‚   β”β”€β”€ types/                # TypeScript νƒ€μ…
β”‚   β”‚   β””β”€β”€ analysis.ts
β”‚   β””β”€β”€ utils/                # μ ν‹Έλ¦¬ν‹°
```

## π—„οΈ λ°μ΄ν„°λ² μ΄μ¤
```
mongodb/                       # MongoDB μ„¤μΉ λ””λ ‰ν† λ¦¬
β”β”€β”€ bin/                      # MongoDB λ°”μ΄λ„λ¦¬
β”β”€β”€ data/                     # λ°μ΄ν„° μ €μ¥μ†
β”β”€β”€ log/                      # λ΅κ·Έ νμΌ
β””β”€β”€ mongod.cfg               # MongoDB μ„¤μ •
```

## π› οΈ λ„κµ¬ λ° μ¤ν¬λ¦½νΈ
```
tools/                        # κ°λ° λ„κµ¬
start_servers.bat             # μ„λ²„ μ‹μ‘ μ¤ν¬λ¦½νΈ
```

## π“ λ¶„μ„ κ²°κ³Ό
```
backend/analysis_results/     # λ¶„μ„ κ²°κ³Ό νμΌ
β”β”€β”€ basic_stats.csv          # κΈ°λ³Έ ν†µκ³„
β”β”€β”€ conversation_analysis.png # λ€ν™” λ¶„μ„ μ°¨νΈ
β””β”€β”€ keywords.csv             # ν‚¤μ›λ“ λ¶„μ„
```

## π”§ μ£Όμ” κΈ°λ¥λ³„ κµ¬μ΅°

### 1. μ±„ν… μ‹μ¤ν…
- **λ°±μ—”λ“**: `backend/app/services/chat_service.py`
- **ν”„λ΅ νΈμ—”λ“**: `frontend/src/components/chat/`
- **API**: `backend/app/api/v1/chat.py`

### 2. LLM ν†µν•©
- **λ¨λΈ κ΄€λ¦¬**: `backend/app/services/model_manager.py`
- **LLM μ„λΉ„μ¤**: `backend/app/services/llm_service.py`
- **λ¨λΈ νμΌ**: `backend/models/`

### 3. λ°μ΄ν„°λ² μ΄μ¤
- **μ—°κ²°**: `backend/app/database.py`
- **κ²€μƒ‰**: `backend/app/services/mongodb_search_service.py`
- **λ°μ΄ν„°**: `backend/data/`

### 4. π†• νμΈνλ‹ μ‹μ¤ν…
- **GUI λ„κµ¬**: `backend/finetune_tool/gui/main_window.py`
- **λ°μ΄ν„° μ²λ¦¬**: `backend/finetune_tool/data_processor.py`
- **λ¨λΈ ν›λ ¨**: `backend/finetune_tool/model_trainer.py`
- **ν…μ¤νΈ λ„κµ¬**: `backend/test_tool/model_tester.py`

## π€ μ‹¤ν–‰ λ°©λ²•

### 1. μ „μ²΄ μ‹μ¤ν… μ‹¤ν–‰
```bash
# μ„λ²„ μ‹μ‘
start_servers.bat

# λλ” μλ™μΌλ΅
cd backend && uvicorn app.main:app --reload
cd frontend && npm run dev
```

### 2. νμΈνλ‹ μ‹¤ν–‰ (GPU μ»΄ν“¨ν„°)
```bash
cd backend/finetune_tool
python run_finetune_gui.py
```

### 3. λ¨λΈ ν…μ¤νΈ (κ°λ° μ»΄ν“¨ν„°)
```bash
cd backend/test_tool
python run_model_test.py --model_path [λ¨λΈκ²½λ΅] --test_type interactive
```

## π“ κ°λ° λ…ΈνΈ

### μµκ·Ό μ¶”κ°€λ κΈ°λ¥
1. **νμΈνλ‹ λ„κµ¬**: Phi-3.5 λ¨λΈ μƒλ‹΄μ‚¬ νΉν™” νμΈνλ‹
2. **GUI μΈν„°νμ΄μ¤**: μ‚¬μ©μ μΉν™”μ μΈ νμΈνλ‹ μ„¤μ •
3. **ν…μ¤νΈ λ„κµ¬**: νμΈνλ‹λ λ¨λΈ μ„±λ¥ ν‰κ°€
4. **ν΄λΌμ°λ“ μ§€μ›**: ν–¥ν›„ AWS/GCP/Azure GPU μ„λ²„ μ§€μ› μμ •

### ν•λ“μ›¨μ–΄ μ”κµ¬μ‚¬ν•­
- **νμΈνλ‹**: GTX 1050 Ti μ΄μƒ (4GB+ VRAM)
- **ν…μ¤νΈ**: GPU μ—†μ–΄λ„ κ°€λ¥
- **μ΄μ**: GPU μ—†μ–΄λ„ κ°€λ¥ (CPU μ¶”λ΅ )

### λ°μ΄ν„° κµ¬μ΅°
- **FAQ λ°μ΄ν„°**: CSV ν•μ‹ (μ”μ²­λ‚΄μ©, μ²λ¦¬λ‚΄μ©)
- **λ€ν™” λ°μ΄ν„°**: JSON ν•μ‹ (μ‹κ°„λ³„ λ€ν™” κΈ°λ΅)
- **νμΈνλ‹ λ°μ΄ν„°**: HuggingFace Dataset ν•μ‹

## π”„ μ›ν¬ν”λ΅μ°

### ν„μ¬ μ›ν¬ν”λ΅μ°
1. **λ°μ΄ν„° μμ§‘**: FAQ CSV + λ€ν™” λ°μ΄ν„°
2. **νμΈνλ‹**: GPU μ»΄ν“¨ν„°μ—μ„ GUIλ΅ μ‹¤ν–‰
3. **λ¨λΈ μ „μ†΅**: νμΌλ΅ κ°λ° μ»΄ν“¨ν„°λ΅ μ΄λ™
4. **ν…μ¤νΈ**: κ°λ° μ»΄ν“¨ν„°μ—μ„ μ„±λ¥ ν‰κ°€
5. **μ μ©**: κΈ°μ΅΄ μ‹μ¤ν…μ— ν†µν•©

### ν–¥ν›„ ν΄λΌμ°λ“ μ›ν¬ν”λ΅μ°
1. **λ°μ΄ν„° μ—…λ΅λ“**: ν΄λΌμ°λ“ μ¤ν† λ¦¬μ§€
2. **ν΄λΌμ°λ“ νμΈνλ‹**: AWS/GCP/Azure GPU
3. **λ¨λΈ λ‹¤μ΄λ΅λ“**: λ΅μ»¬λ΅ λ‹¤μ΄λ΅λ“
4. **ν…μ¤νΈ λ° μ μ©**: κΈ°μ΅΄κ³Ό λ™μΌ 